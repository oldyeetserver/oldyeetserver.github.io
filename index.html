<!DOCTYPE html>
<html lang="de">
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="shortcut icon" type="image/x-icon" href="./images/index-icon.png"/>
    <link rel="stylesheet" href="/style/index.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <title>Yeetserver</title>
</head>

<script>
    function getCookie(cname) {
    let name = cname + "=";
    let decodedCookie = decodeURIComponent(document.cookie);
    let ca = decodedCookie.split(';');
    for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }}
    return "";
    }

    function deleteCookie(cookie) {
        document.cookie = `${cookie}=; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;
    }
    
    function deleteAllCookies() {
    var cookies = document.cookie.split(";");
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i];
        var eqPos = cookie.indexOf("=");
        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
        document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
    }}
</script>

<body onload="start()">

<button class="appearance" name="appearance" id="appearancebutton" onclick="appearanceButton()">Whitemode</button>
<script>
    function changeAppearance(appearance) {
        const mode_button = document.getElementById("appearancebutton");
        if (appearance == 1) {
        document.documentElement.style.setProperty('--bg', 'var(--whitemode)');
        document.documentElement.style.setProperty('--fg', 'var(--whitemode_text)');
        mode_button.firstChild.data = "Darkmode";
    }
        else {
        document.documentElement.style.setProperty('--bg', 'var(--darkmode)');
        document.documentElement.style.setProperty('--fg', 'var(--darkmode_text)');
        mode_button.firstChild.data = "Whitemode";
    }}

    function appearanceButton(){
    const mode_button = document.getElementById("appearancebutton");
    if (mode_button.firstChild.data == "Darkmode") 
    {
        document.cookie = "mode=0";
        changeAppearance(0)
    }
    else 
    {
        document.cookie = "mode=1";
        changeAppearance(1)
    }}
    function start() {
        changeAppearance(getCookie("mode"));
        if (getCookie("visited") !== "true") {
            on()
        }
    }
</script>

<button class="delete" name="appearance" id="appearancebutton" onclick="deleteAllCookies()">Alle Cookies l√∂schen</button>
<button class="delete" name="appearance" id="appearancebutton" onclick="alert(document.cookie)">Gespeicherte Cookies anzeigen</button>


<div class="message">
    <P>Website des Yeetservers üößüë∑‚Äç‚ôÇÔ∏è (In Arbeit)
    <br>Zurzeit finden sich hier nur ein paar zuf√§llige Funktionen</p>
    <label id="rndNum" class="rnd"></label>
    <script>
    const myArray = [
    "gegessenen Bananen von Thompson in den letzen 5 Minuten",
    "aktuell aktiven Bussen im Yeetserver",
    "Bloons Spielstunden von Juls gestern",
    "Affen an deinem Fenster",
    "verschlafenen Stunden von Root gestern"
    ];
    var randomItem = myArray[Math.floor(Math.random()*myArray.length)];
        document.getElementById('rndNum').innerHTML = `Anzahl an ${randomItem}: ${Math.round(Math.random()*10)}`;
    </script>
</div>
<div class="calcClass">
    <b>Simpler Rechenapperat ‚û° &nbsp; </b>
    <button name="calcButton" onclick="calculator()" class="calcButtonClass">üßÆ</button>
    <script>
        function calculator() {
            var calculation = prompt("Rechnung eingeben")
            try {
                if (calculation.includes(",")) {
                    var calculation = calculation.replace(",", ".")
                }
                const result = eval(calculation)
                if (result === undefined || result === null) {
                } else {
                if (!result % 1 != 0) {
                    alert(`Genaues Ergebnis: ${result}`)
                } else {
                    alert(`Genaues Ergebnis: ${result} \nGerundetes Ergebnis: ${Math.round(result)}`)
                }}
            }
            catch {
                alert(`Ung√ºltige Rechnung: ${calculation}`)
            }
            
        
        }
    </script>
</div>

<meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    #overlay {
    position: fixed;
    display: none;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    z-index: 2;
    }

    #text{
    position: absolute;
    top: 90%;
    left: 50%;
    font-size: 20px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
    }
    </style>

    <div id="overlay">
    <div id="text">Diese Seite benutzt Cookies um getroffene Einstellungen zu Speichern<br>
    <a href="/policy.html">Mehr Informationen<br></a>
    <button name="hidecookiebanner" onclick="off()">OK</button>
    </div>

    <script>
   

    function on() {
    document.getElementById("overlay").style.display = "block";
    }

    function off() {
    document.getElementById("overlay").style.display = "none";
    document.cookie = "visited=true";
    }
</script>

</html>
</body>